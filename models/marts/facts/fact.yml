version: 2
models:
  - name: fct_fantasy_point_leaders
    description: >-
      Fact table ranking players by their fantasy performance using both
      standard and PPR scoring.
    columns:
      - name: player_id
        description: Unique identifier for the player.
        meta:
          dimension:
            type: string
      - name: player_name
        description: Name of the player.
        meta:
          dimension:
            type: string
      - name: position
        description: Player's position (e.g., QB, RB, WR, TE).
        meta:
          dimension:
            type: string
      - name: recent_team
        description: The player's most recent team.
        meta:
          dimension:
            type: string
      - name: total_fantasy_points
        description: >-
          Total fantasy points scored by the player (standard scoring) across
          the considered period.
        meta:
          dimension:
            type: number
      - name: total_fantasy_points_ppr
        description: >-
          Total fantasy points scored by the player under PPR (points per
          reception) scoring across the considered period.
        meta:
          dimension:
            type: number
      - name: games_played
        description: Number of games (weeks) the player participated in.
        meta:
          dimension:
            type: number
      - name: avg_fantasy_points_per_game
        description: Average standard fantasy points per game played.
        meta:
          dimension:
            type: number
      - name: avg_fantasy_points_ppr_per_game
        description: Average PPR fantasy points per game played.
        meta:
          dimension:
            type: number
      - name: standard_rank
        description: >-
          The player's rank among all players based on total standard fantasy
          points.
        meta:
          dimension:
            type: number
      - name: ppr_rank
        description: The player's rank among all players based on total PPR fantasy points.
        meta:
          dimension:
            type: number
  - name: fct_red_zone_player_stats
    description: >-
      Fact table summarizing player performance within the red zone, capturing
      rushing and passing opportunities.
    columns:
      - name: fantasy_player_id
        description: Fantasy-specific unique identifier for the player.
        meta:
          dimension:
            type: string
      - name: fantasy_player_name
        description: Name of the player as recognized for fantasy purposes.
        meta:
          dimension:
            type: string
      - name: total_opportunities
        description: >-
          Sum of a player's total red zone rush attempts and targets (pass
          attempts to them).
        meta:
          dimension:
            type: number
      - name: total_rush_attempts
        description: Total number of red zone rushing attempts by the player.
        meta:
          dimension:
            type: number
      - name: total_targets
        description: >-
          Total number of red zone targets (pass attempts) directed to the
          player.
        meta:
          dimension:
            type: number
      - name: total_pass_completions
        description: Total number of red zone passes completed to the player.
        meta:
          dimension:
            type: number
  - name: fct_weight_by_pos
    description: Weight of players by position and season
    columns:
      - name: player_id
        description: ""
        meta:
          dimension:
            type: string
      - name: weight
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            avg_weight:
              type: average
              round: 0
      - name: full_position_name
        description: ""
        meta:
          dimension:
            type: string
      - name: full_position_group_name
        description: ""
        meta:
          dimension:
            type: string
      - name: height
        description: ""
        meta:
          dimension:
            type: number
      - name: bmi
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            avg_bmi:
              type: average
              round: 1
  - name: fct_win_prob
    columns:
      - name: game_time
        description: ""
        meta:
          dimension:
            type: number
      - name: winning_team_wp
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            avg_winning_wp:
              type: average
      - name: losing_team_wp
        description: ""
        meta:
          dimension:
            type: number
          metrics:
            avg_losing_team_wp:
              type: average
  - name: fct_game_results
    columns:
      - name: team
        description: ""
        meta:
          dimension:
            type: string
      - name: home_wins
        description: ""
        meta:
          dimension:
            type: number
      - name: away_wins
        description: ""
        meta:
          dimension:
            type: number

      - name: wins
        description: ""
        meta:
          dimension:
            type: number
      - name: games
        description: ""
        meta:
          dimension:
            type: number
